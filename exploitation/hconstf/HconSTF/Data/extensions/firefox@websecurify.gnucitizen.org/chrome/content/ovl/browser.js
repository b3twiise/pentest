function handleWebsecurifyOpenScreenCommandEvent(){switchToTabHavingURI("https://suite.websecurify.com",!0)}function websecurifyAddToolbarbutton(){var a=document.getElementById("nav-bar"),b=a.currentSet.split(",");0>b.indexOf("websecurify-firefox-browser-websecurify-toolbarbutton")&&(b.push("websecurify-firefox-browser-websecurify-toolbarbutton"),b=b.join(","),a.setAttribute("currentset",b),a.currentSet=b,document.persist("nav-bar","currentset"))}
function handleWebsecurifyFirstrun(){websecurifyAddToolbarbutton()}function handleWebsecurifyUpgrade(){websecurifyAddToolbarbutton()}function handleWebsecurifyReinstall(){websecurifyAddToolbarbutton()}
function handleWebsecurifyLoadEvent(a){if(a.target==document){var b;try{b=Services.prefs.getBoolPref("extensions.org.gnucitizen.websecurify.firefox.firstrun")}catch(c){b=!0}Application.getExtensions(function(a){a=a.get("firefox@websecurify.gnucitizen.org").version;if(b)Services.prefs.setBoolPref("extensions.org.gnucitizen.websecurify.firefox.firstrun",!1),Services.prefs.setCharPref("extensions.org.gnucitizen.websecurify.firefox.installedVersion",a),handleWebsecurifyFirstrun();else try{var d=Services.prefs.getCharPref("extensions.org.gnucitizen.websecurify.firefox.installedVersion");
a>d&&(Services.prefs.setCharPref("extensions.org.gnucitizen.websecurify.firefox.installedVersion",a),handleWebsecurifyUpgrade())}catch(c){handleWebsecurifyReinstall()}})}}addEventListener("load",handleWebsecurifyLoadEvent,!1);
